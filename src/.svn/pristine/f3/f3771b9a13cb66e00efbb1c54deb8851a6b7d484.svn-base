<template>
  <div class="outest" id="dataImport">
    <div class="sContainer">
      <span>选择分组 :</span>
      <el-select size="mini" style="width:250px" placeholder="请选择分组" v-model="it" @change="group_id()" clearable>
        <el-option
          v-for="(gl,index) in this.groupList"
          :key="index"  
          :value="gl.id"
          :label="gl.group_name">
          {{gl.group_name}}
        </el-option>
      </el-select>
    </div>
    <!--搜索 -->
    <div class="entry">
      <div class="search">
        <div class="up">
          <div class="left">
            <span>原单位诊断信息 :</span>
            <el-select size="mini" style="width:100px;margin-left:10px" placeholder="全部" v-model="attached" @change="getInfo">
              <el-option v-for="(item,index) in this.attachedList" :key="index" :value="item">
                {{item}}
              </el-option>
            </el-select>
          </div>
          <div class="right">
            <span>精准搜索 :</span>
            <el-input
              size="mini"
              placeholder="请输入病理号"
              prefix-icon="el-icon-search"
              style="width:180px"
              v-model.trim="test_id" @keyup.enter.native="getTable()"
            ></el-input>
            <el-input
              size="mini"
              placeholder="请输入病人ID"
              prefix-icon="el-icon-search"
              style="width:180px"
              v-model.trim="patient_id" @keyup.enter.native="getTable()"
            ></el-input>
            <el-input
              size="mini"
              placeholder="请输入姓名"
              prefix-icon="el-icon-search"
              style="width:180px"
              v-model.trim="name" @keyup.enter.native="getTable()"
            ></el-input>
            <el-button type="primary" size="mini" @click="getTable">确定</el-button>
          </div>
        </div>
        <div class="down">
          <el-table
            ref="multipleTable"
            :data="tablelist"
            tooltip-effect="dark"
            style="width: 100%"
            border
            stripe
            :header-cell-style="{color:'#333333'}" 
          >
            <el-table-column type="selection" width="40"></el-table-column>
            <el-table-column prop="patient_id" label="病人ID"  sortable></el-table-column>
            <el-table-column prop="test_id" label="病理号"  sortable></el-table-column>
            <el-table-column prop="name" label="姓名"  sortable></el-table-column>
            <el-table-column prop="diagnosis_type" label="就诊类型"  sortable></el-table-column>
            <el-table-column prop="sex" label="性别"  sortable></el-table-column>
            <el-table-column prop="age" label="年龄" wsortable></el-table-column>
            <el-table-column
              prop="diagnosis_origin"
              label="原单位诊断"
              show-overflow-tooltip           
              sortable
            ></el-table-column>
            <el-table-column fixed="right" label="操作" >
              <template slot-scope="scope" >
                <el-button
                  type="text"
                  size="small"
                  @click="tianjia(scope.row)"
                  v-if="scope.row.attached == 0"
                >添加</el-button>
                <div v-else>
                <el-button
                  type="text"
                  size="small"
                  @click="bianji(scope.row)"           
                ><span style="margin-left:5px">编辑</span></el-button>
                <el-button type="text" size="small" @click="del(scope.row)"><span style="margin-left:5px">删除</span></el-button>
                </div>
              </template>

            </el-table-column>
          </el-table>
          <!--    :current-page="count"                      当前显示的页数
                :page-sizes="[10]"                        切换每页显示的条数
                :page-size="pagerows"                     当前每页显示的条数
                @size-change="handleSizeChange"           点击切换每页显示多少条
                @current-change="handleCurrentChange"     页码值发生了切换
                :total="count"                            共多少条           
                layout="total, sizes, prev, pager, next, jumper"
          -->
          <el-pagination
            @size-change="handleSizeChange"
            @current-change="handleCurrentChange"
            :current-page="queryInfo.page"
            :page-sizes="[10]"
            :page-size="queryInfo.pagerows"
            layout="total, sizes, prev, pager, next, jumper"
            :total="queryInfo.count"
          ></el-pagination>
        </div>
      </div>
    </div>
    <!--遮罩 -->
    <div class="YCon" v-if="zhezhao" :model="editForm">
      <div class="out">
        <div class="header">
          <span>编辑</span>
          <span>
            <i class="iconfont iconx" @click="zhezhao =!zhezhao"></i>
          </span>
        </div>
        <!-- 原医疗机构-->
        <el-collapse class="origin" v-model="activeNames">
          <el-collapse-item name="1">
            <template slot="title" style="background-color:rgba(232, 232, 232, 1)">
              <i class="iconfont icontubiaozhizuo-"></i>
              {{diagnosis_1_info.name}}
            </template>
            <div class="origindown">
              <!--报告信息 -->
              <div class="sickIH">
                <div class="title">
                  <!-- <i class="iconfont icontubiaozhizuo-"></i> -->
                  {{reportMessage.name}}:
                </div>
                <div class="sickItem">
                  <span>{{fMInstitution.organization.field_title}}:</span>
                  <el-input
                    type="text"
                    v-model="editForm.organization"
                    placeholder="请输入机构名称"
                    size="mini"
                    style="width:180px"
                  ></el-input>
                </div>
                <div class="sickItem">
                  <span>{{fMInstitution.test_id.field_title}}:</span>
                  <el-input
                    type="text"
                    v-model="editForm.test_id"
                    placeholder="请输入病理号"
                    size="mini"
                    style="width:180px"
                  ></el-input>
                </div>
                <div class="sickItem">
                  <span>{{fMInstitution.application_date.field_title}}:</span>
                  <el-date-picker
                    name="application_date"
                    v-model="editForm.application_date"
                    type="date"
                    size="mini"
                    placeholder="选择日期"
                    style="width:180px"
                  ></el-date-picker>
                </div>
                <div class="sickItem">
                  <span>{{fMInstitution.report_date.field_title}}:</span>
                  <el-date-picker
                    name="report_date"
                    v-model="editForm.report_date"
                    type="date"
                    size="mini"
                    placeholder="选择日期"
                    style="width:180px"
                  ></el-date-picker>
                </div>
              </div>
              <!--诊断结论 -->
              <div class="sickIH">
                <div class="title">
                  <!-- <i class="iconfont icontubiaozhizuo-"></i> -->
                  {{reportResult.name}}:
                </div>

                <!--<div class="sickItem">
                  <span>病理类型:</span>
                  <el-cascader
                    v-model="editForm.jilian"
                    size="mini"
                    :options="options"
                    :props="{ checkStrictly: true }"
                    clearable style="width:700px"
                  ></el-cascader>
                </div>-->

                <div class="sickItem">
                    <span>
                      病理类型：
                    </span>
                    <el-select
                      v-model="editForm.diagnosis1"
                      size="mini"
                      style="width:300px"
                      clearable
                      @change="getJilian1"
                      filterable>
                      <el-option
                        v-for="(item,index) in  this.onechoose"
                        :key="index"
                        :value="item.name">
                        <span>{{item.name}}</span>
                      </el-option>
                    </el-select>

                    <el-select
                      v-model="editForm.diagnosis2"
                      size="mini"
                      style="width:300px"
                      clearable
                      @change="getJilian2"
                      filterable>
                      <el-option
                        v-for="(item,index) in  this.twochoose"
                        :key="index"
                        :value="item.name">
                        <span>{{item.name}}</span>
                      </el-option>
                    </el-select>
                  </div>

                  <div class="sickItem" v-if="this.editForm.diagnosis2 != ''">
                    <span>病理亚型：</span>
                    <el-select
                      v-if="this.editForm.diagnosis2 != '' && this.editForm.diagnosis2 != '其他'"
                      v-model="editForm.diagnosis3"
                      size="mini"
                      style="width:300px"
                      clearable
                      @change="no()"
                      filterable>
                      <el-option
                        v-for="(item,index) in  this.threechoose"
                        :key="index"
                        :value="item.name">
                        <span>{{item.name}}</span>
                      </el-option>
                    </el-select>

                     <el-input size='mini' @input="no()" v-if="this.editForm.diagnosis2 == '其他'" style="width:300px"   v-model="editForm.diagnosis3"></el-input>
              
                  </div>
              </div>

              <!--报告质量  可折叠-->
              <el-collapse-item  name="2">
                <template slot="title" style="background-color:rgba(172,172,172,0.19)">
                  <div class="title" >
                  <i class="iconfont icontubiaozhizuo-"></i>
                      <!-- <i class="iconfont icontubiaozhizuo-"></i>  {{reportMass.name}}:  style="margin-left:50px"-->                      
                      <span                       
                      >{{fMInstitution.report_quality.field_title}} :</span>
                      <el-select
                        placeholder="请选择"
                        name="report_quality"
                        v-model="editForm.report_quality"
                        size="mini"
                      >
                        <el-option
                          v-for="(item,index) in fMInstitution.report_quality.field_values"
                          :key="index"
                          :value="item"
                        >
                          <span>{{item}}</span>
                        </el-option>
                      </el-select>
                    </div>
                </template>
                   
                <div class="sickIH">
                  <div class="kuai">
                    <div class="p-one">
                      <span class="titles">病理检材质量</span>
                      <div class="sickItems">
                        <span class="one">{{fMInstitution.he_number.field_title}}:</span>
                        <el-input
                          type="text"
                          v-model="editForm.he_number"
                          size="mini"
                          style="width:100px"
                        ></el-input>
                        {{fMInstitution.he_number.field_tail}}
                      </div>
                      <div class="sickItems">
                        <span class="two">{{fMInstitution.he_quality.field_title}}:</span>
                        <el-select
                          name="he_quality"
                          v-model="editForm.he_quality"
                          size="mini"
                          style="width:90px"
                        >
                          <el-option
                            v-for="(item,index) in fMInstitution.he_quality.field_values"
                            :key="index"
                            :value="item"
                          >
                            <span>{{item}}</span>
                          </el-option>
                        </el-select>
                      </div>
                      <div class="sickItems">
                        <span class="three">{{fMInstitution.ihc_number.field_title}}:</span>
                        <el-input
                          type="text"
                          v-model="editForm.ihc_number"
                          size="mini"
                          style="width:100px"
                        ></el-input>
                        {{fMInstitution.he_number.field_tail}}
                      </div>
                      <div class="sickItems">
                        <span class="four">{{fMInstitution.ihc_quality.field_title}}:</span>
                        <el-select
                          name="ihc_quality"
                          v-model="editForm.ihc_quality"
                          size="mini"
                          style="width:90px"
                        >
                          <el-option
                            v-for="(item,index) in fMInstitution.ihc_quality.field_values"
                            :key="index"
                            :value="item"
                          >
                            <span>{{item}}</span>
                          </el-option>
                        </el-select>
                      </div>
                      <div class="sickItems">
                        <span class="five">{{fMInstitution.problem_slice.field_title}}</span>
                        <el-select
                          name="problem_slice"
                          v-model="editForm.problem_slice"
                          size="mini"
                          style="width:90px"
                        >
                          <el-option
                            v-for="(item,index) in fMInstitution.problem_slice.field_values"
                            :key="index"
                            :value="item"
                          >
                            <span>{{item}}</span>
                          </el-option>
                        </el-select>
                      </div>
                    </div>
                    <div class="p-two">
                      <span class="titles">病理会诊申请单质量：</span>
                      <div class="sickItems">
                        <span class="h">{{fMInstitution.patient_info.field_title}}:</span>
                        <el-select
                          name="patient_info"
                          v-model="editForm.patient_info"
                          size="mini"
                          style="width:90px"
                        >
                          <el-option
                            v-for="(item,index) in fMInstitution.patient_info.field_values"
                            :key="index"
                            :value="item"
                          >
                            <span>{{item}}</span>
                          </el-option>
                        </el-select>
                      </div>
                      <div class="sickItems">
                        <span class="h">{{fMInstitution.history_info.field_title}}:</span>
                        <el-select
                          name="history_info"
                          v-model="editForm.history_info"
                          size="mini"
                          style="width:90px"
                        >
                          <el-option
                            v-for="(item,index) in fMInstitution.history_info.field_values"
                            :key="index"
                            :value="item"
                          >
                            <span>{{item}}</span>
                          </el-option>
                        </el-select>
                      </div>
                      <div class="sickItems">
                        <span class="h">{{fMInstitution.sample_info.field_title}}:</span>
                        <el-select
                          name="sample_info"
                          v-model="editForm.sample_info"
                          size="mini"
                          style="width:90px"
                        >
                          <el-option
                            v-for="(item,index) in fMInstitution.sample_info.field_values"
                            :key="index"
                            :value="item"
                          >
                            <span>{{item}}</span>
                          </el-option>
                        </el-select>
                      </div>
                    </div>
                    <div class="p-three">
                      <span class="titles">其他临床资料提交情况：</span>
                      <div class="sickItems">
                        <span>{{fMInstitution.record.field_title}}:</span>
                        <el-select
                          name="record"
                          v-model="editForm.record"
                          size="mini"
                          style="width:90px"
                        >
                          <el-option
                            v-for="(item,index) in fMInstitution.record.field_values"
                            :key="index"
                            :value="item"
                          >
                            <span>{{item}}</span>
                          </el-option>
                        </el-select>
                      </div>
                      <div class="sickItems">
                        <span>{{fMInstitution.helper_report.field_title}}:</span>
                        <el-select
                          name="helper_report"
                          v-model="editForm.helper_report"
                          size="mini"
                          style="width:90px"
                        >
                          <el-option
                            v-for="(item,index) in fMInstitution.helper_report.field_values"
                            :key="index"
                            :value="item"
                          >{{item}}</el-option>
                        </el-select>
                      </div>
                    </div>
                  </div>
                </div>
              </el-collapse-item>
              
            </div>
          </el-collapse-item>
          <!--上传图片 -->
          
        <!--<el-upload   
      
          :on-preview="handlePreview"
          :on-remove="handleRemove"
          :file-list="fileList"
           list-type="picture">
          <el-button size="small" type="primary">点击上传</el-button>
          <div slot="tip" class="el-upload__tip">只能上传jpg/png文件，且不超过500kb</div>
        </el-upload>-->

        <el-upload   v-model="editForm.img"
          :action="actionURL"                
          :accept="'image/*'"        
          list-type="picture-card" 
          :on-success="handleSuccess"
          :on-error="handleError"
          :before-upload="handleBeforeUpload"
          :on-progress="handleProgress"
          :on-preview="handlePictureCardPreview"
          :on-remove="handleRemove">    
          <img  :src="this.src" v-show="this.src != ''" >               
          <i  v-show="this.src  == ''" class="el-icon-plus"></i>
          
        </el-upload>     
          <el-dialog :visible.sync="dialogVisible">     
            <img width="100%" :src="img">      
          </el-dialog>  
        </el-collapse>                
        <!-- <img  :src="this.src" v-show="this.editForm.pics != ''">   -->        
        <div class="foot">     
          <el-button style="margin-right:10px" @click="handleRemove()">清空</el-button>
          <el-button @click="baocun(editForm)">保存</el-button>
        </div>
      </div>
    </div>
    <!--分组 -->
    <div class="out" v-if="!group" :data="data">
      <div class="nei">
        <div class="title">
          <span>请选择分组</span>
          <span @click="group =! group">
            <i class="iconfont iconx"></i>
          </span>
        </div>
        <div class="mian">
          <div class="ming">
            <span>数据集名称：</span>
            <el-input style="width:400px" size="small" v-model="data.file_name"></el-input>
          </div>
          <div class="cun">
            <span>存储位置：</span>
            <el-input style="width:400px" size="small" v-model="item"></el-input>
          </div>
          <div class="sousuo">
            <el-input placeholder="请输入分组关键词..." style="width:500px">
              <el-button slot="append">搜索</el-button>
            </el-input>
          </div>
          <div class="groupList">
            <el-button
              style="width:300px"
              @click="addGroup(item)"
              v-model="data.location"
              v-for="(item, index) in groupLists"
              :key="index"
              :value="item"
            >{{item}}</el-button>
          </div>
          <div class="name">
            <span>新建分组名称 ：</span>
            <el-input placeholder="请输入分组名称..." style="width:380px">
              <el-button slot="append">保存</el-button>
            </el-input>
          </div>
          <div class="button">
            <el-button plain size="small" @click="group =! group">取消</el-button>
            <el-button plain size="small" @click="sure(id)">确定</el-button>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script type="text/ecmascript-6">
import uuid from "uuid";
import allMessage from "../../staic/allMessage.json";
export default {
  created() {  
    this.getTableList();
    this.getgroupList();
    this.getJilian();
  },
  methods: {
    // 病理类型
    getJilian() {
      // console.log(this.editForm.diagnosis1_normal);
      const res = this.axios.get("report/jilian.php").then(res => {
        console.log(res);
        
        this.onechoose = res.data.option
        console.log(this.onechoose)
      });
    },
    getJilian1() {
      // console.log(this.editForm.diagnosis1_normal);
      const res = this.axios
        .get("report/jilian.php", {
          params: { name: this.editForm.diagnosis1 }
        })
        .then(res => {
          console.log(res);
          this.twochoose = res.data.option;
        });
      this.editForm.diagnosis2 = "";
      this.editForm.diagnosis3 = "";
    },
    getJilian2() {
      console.log(this.editForm.diagnosis2);
      const res = this.axios
        .get("report/jilian.php", {
          params: { name: this.editForm.diagnosis2 }
        })
        .then(res => {
          console.log(res);
          this.threechoose = res.data.option;
        });
      this.editForm.diagnosis3 = "";
      this.$forceUpdate()
    },
    no(){
      this.$forceUpdate()
    },
    // 上传图片
    handleSuccess(response, file, fileList) {
      this.$message("上传成功");
      // console.log(this.editForm.imageUrl)
      console.log(file.raw)
      console.log(file) 
      console.log(file.response.id)
      console.log(this)
      this.pics.push(file.response.id)     
      // this.img = file.url
      // console.log(this.img)
      console.log(this.pics)      
    },
    handleError() {
      this.$error("上传失败,请重新上传图片!");
    },
    handleBeforeUpload(file) {
      const isImage = file.type.includes("image");
      if (!isImage) {
        this.$message.error("上传文件类型必须是图片!");
      }
      // const isLt2M = file.size / 1024 / 1024 < 2;
      // if (!isLt2M) {
      //   this.$message.error("上传图片大小不能超过 2MB!");
      // }
      return isImage ;
      // return isImage && isLt2M;
    },
    handleProgress(event, file, fileList) {
      this.loading = true;  //  上传时执行loading事件
    },
    handleRemove(file) {
      console.log(file.response.id)    
      console.log(this.pics)
    },
    handlePictureCardPreview(file) {
      this.img = file.url;
      this.dialogVisible = true;     
    },
 
    // 获取分组
    getgroupList() {
      const { data: res } = this.axios.get("group/list.php").then(res => {
        console.log(res);
        this.groupList = res.data.data
        console.log(res.data.data);
      });
    },
    // 点击选择分组
    group_id() {       
      console.log(this.it)
      this.getTableList()
    },
    // 获取诊断信getTableList息
    getInfo(){
      console.log(this.attached)
      this.getTableList2()
    },
    // 解析
    jiexi() {
      this.$alert("解析错误，请校验文字格式！", "解析错误", {
        confirmButtonText: "知道了",
        type: "warning",
        center: true
      });
    },
    // 点击删除
    async del(row) {
      console.log(row)
      console.log(row.id)
      let report_id= ''
      const  res  = await this.axios("diagnosis_origin/del.php", {
        params: {report_id:row.id }
      }).then(res => {
        this.$confirm("确定删除该数据？是否继续?", "提示", {
          confirmButtonText: "确定",
          cancelButtonText: "取消",
          type: "warning",
          center: true
        })
          .then(() => {                      
            this.$message({
              type: "success",
              message: "删除成功!"
            });
            console.log(res)
            this.tablelist = []
            this.getTableList()
            // this.editForm = {}
            // console.log(this.editForm)
          })
          .catch(() => {
            this.$message({
              type: "info",
              message: "已取消删除"
            });
          });
      });  
      // let id = ''
      // const res1 = await this.axios.get('upload_file/del.php',{params:{id :this.editForm.pics}}).then( res=>{
      //   console.log(res1)
      // })    
      // this.editForm.pics = ''
    },
    // 点击添加
    async tianjia(row) {   
      console.log(row);
      this.rowAdd = row
      this.zhezhao = true;
      this.id = this.rowAdd.id;
      this.attached = this.rowAdd.attached;
      // this.getTableList()
      this.editForm = {}
      // this.src = ''     
    },
    // 点击原单位编辑
    async bianji(row){
      this.zhezhao = true;
      console.log(row);
      this.rowAdd = row
      const { data: res } = await this.axios.get("diagnosis_origin/one.php",{params:{id:row.id }
      });
      console.log(row.id);
      console.log(res);
      this.editForm = res;
      console.log(this.editForm);
      // this.jilian = []
      
      if(res != null){
        this.img = []
        this.editForm = res;
        if(this.editForm.report_date === '0000-00-00'){
          this.editForm.report_date = ''
        } 
        if(this.editForm.application_date === '0000-00-00'){
          this.editForm.application_date = ''
        } 
        // console.log(this.editForm);
        // this.jilian = []
        // if(this.editForm.diagnosis1 !=  null && this.editForm.diagnosis1 !=  ''){
        //   this.jilian.push(this.editForm.diagnosis1)
        // }
        // if(this.editForm.diagnosis2 != null && this.editForm.diagnosis2 !=  ''){
        //   this.jilian.push(this.editForm.diagnosis2)
        // }
        // if(this.editForm.diagnosis3 != null && this.editForm.diagnosis3 !=  ''){
        //   this.jilian.push(this.editForm.diagnosis3)
        // }    
        // console.log(this.jilian)
        // this.jilian.push(this.editForm.diagnosis1,this.editForm.diagnosis2)
        //  this.editForm.jilian = this.jilian  
        if(this.editForm.img){     
          this.img.push(this.editForm.img[0])    
          // console.log(this.img[0])
        }
       console.log(this.axios.defaults.geturl)
        if(this.img[0]){
          this.src = this.axios.defaults.geturl + this.img[0]
          console.log(this.src)
        }else{
          this.src = ''
          console.log(this.src)
        }
        
      }  else{
        this.editForm = {};
        return
      }    

    },
    // 清空
    handleRemove() {
      const res = this.axios.get('upload_file/del.php',{params:{id:this.editForm.pics}}).then( res=>{
        console.log(res)
      })
      this.src = ''
      this.editForm = {}
      this.pics = []
      this.img = ''
      this.editForm.pics = []
      console.log(this.src)
      console.log(this.editForm)  
    },
    // 保存
    baocun(editForm) {
      // console.log(this)
       this.editForm.pics = this.pics 
      // console.log(this.editForm.uid)
      this.zhezhao = !this.zhezhao;      
      console.log(this.rowAdd)
      console.log(this.rowAdd.attached)
      // this.jilian = this.editForm.jilian;
      this.editForm.detail_type = "淋巴瘤";
      console.log(this.editForm);
        this.axios.post("diagnosis_origin/add.php",{params:{id:this.rowAdd.id,data:this.editForm}}).then(res => {
          console.log("res:", res);
          // console.log(res.data)
          var result = res.data; //JSON.parse(res.body);
          if (result.result == "done") {
            this.$alert("提交成功", "提交结果", {
              confirmButtonText: "确定",
              type: "success",
              callback: action => {  
                this.rowAdd.attached = this.rowAdd.id 
                this.getTableList();                              
              }
            });
          } else {
            this.$alert("提交失败", "提交结果", {
              confirmButtonText: "确定",
              type: "warning",
              callback: action => {}
            });
          }
        });
    }, 
    // 获取病理号
    async getTableList() {
      // alert(1)
      // console.log(it)
      // console.log(it.group_name)
      let group_id = "";
      if(this.it == ''){
        const { data: res } = await this.axios.get("diagnosis_origin/list.php", {
          params: { page: this.queryInfo.page}
        });
        console.log("getTableList",res);
        this.tablelist = res.data;
        console.log(res.data);
        this.queryInfo.page = parseInt(res.page);
        this.queryInfo.count = parseInt(res.count); //总条数
        this.queryInfo.pagerows = res.pagerows; //每页显示多少条
      }else{
        const { data: res } = await this.axios.get("diagnosis_origin/list.php", {
          params: { page: this.queryInfo.page, group_id:this.it}
        });
        console.log("getTableList",res);
        this.tablelist = res.data;
        console.log(res.data);
        this.queryInfo.page = parseInt(res.page);
        this.queryInfo.count = parseInt(res.count); //总条数
        this.queryInfo.pagerows = res.pagerows; //每页显示多少条
      }
      
    },
    // 筛选病理号
    async getTableList2() {
      // alert(1)
      // console.log(it)
      // console.log(it.group_name)
      let group_id = "";
      let attached = "";
      const { data: res } = await this.axios.get("diagnosis_origin/list.php", {
        params: { page: this.queryInfo.page, group_id:this.it,attached:this.attached}
      });
      console.log("getTableList",res);
      this.tablelist = res.data;
      console.log(res.data);
      this.queryInfo.page = parseInt(res.page);
      this.queryInfo.count = parseInt(res.count); //总条数
      this.queryInfo.pagerows = res.pagerows; //每页显示多少条
    },
    // 搜索
    async getTable() {
      // console.log(row.id)
      let group_id = "";
      const { data: res } = await this.axios.get("diagnosis_origin/list.php", {
        params:{name: this.name, test_id: this.test_id,group_id :this.it,patient_id:this.patient_id}
      });
      // console.log(this.test_id)
      // console.log(this.name)
      this.tablelist = res.data;
      this.queryInfo.page = parseInt(res.page);
      this.queryInfo.count = parseInt(res.count); //总条数
      // console.log(res.data)
      // console.log("getTableList",res);
      // this.queryInfo.page = res.page
      // this.count = res.count  //总条数
      // this.queryInfo.pagerows = res.pagerows  //每页显示多少条
      // console.log(this.queryInfo.page);console.log(this.queryInfo.count);console.log(this.queryInfo.pagerows);
    },
    // 切换每页显示多少条
    handleSizeChange(newSize) {
      this.queryInfo.pagerows = newSize;
      this.getTableList();
    },
    // 点击页数
    handleCurrentChange(newPage) {
      this.queryInfo.page = newPage;
      this.getTableList();
    },   
  },
  data() {
    return {
      // actionURL:this.baseURLStr + 'upload_file/add.php',
      actionURL:this.axios.defaults.baseURL + 'upload_file/add2.php',
      diagnosis1: "",    

      diagnosis2: "",
      diagnosis3: "",
      onechoose: [],
      twochoose: [],
      threechoose: [],
      src:'',    //获取图片路径
      img:[],    //图片
      // dialogImageUrl: '',
      dialogVisible: false,
      pics:[],    //  上传图片的数组
      imageUrl: '',
      pic:'',
      rowAdd:'',   //点击添加获取的row
      row:'',
      yuanlist:'',
      attachedList:['有','无','全部'],   //原单位下拉
      it:'',
      groupList:[],
      photo: "",
      jilian: "",
      jilian: [],
      item: "",
      // 折叠面板默认打开
      activeNames: ["1"],
      // 分组
      group: false,
      groupLists: [
        "肝癌多中心项目-复旦肿瘤医院",
        "肺癌多中心项目",
        "淋巴瘤的流行病学研究",
        "左半肝胆管腺癌病理分析",
        "未分组"
      ], //分组列表
      // 数据集列表
      data: [],
      attached: "",
      // 上传图片
      // dialogImageUrl: "",
      dialogVisible: false,
      // 弹窗
      zhezhao: false,
      tablelist: [], //病理号数组
      datalist: [], //数据集数组
      group: true,
      // 分页器
      queryInfo: {
        page: 1, //页数
        pagerows: 10, //每页显示的条数
        count: 0 //数据总数
      },
      // 搜索参数
      test_id: "",
      name: "",
      patient_id: "",

      // 遮罩信息
      // 查询到的用户信息对象
      editForm: {},
      origin: {
        organization: "", //机构名称
        test_id: "", //病理号
        application_date: "", //申请日期
        report_date: "", //报告日期
        diagnosis: "", //诊断结论
        type: "", //淋巴瘤细胞来源
        report_quality: "", //原病理报告质量
        he_number: "", //HE切片
        he_quality: "", //质量
        ihc_number: "", //免疫组化切片
        ihc_quality: "", //质量
        problem_slice: "", //是否有制作问题
        patient_info: "", //患者信息是否完整
        history_info: "", //病史是否详细、
        sample_info: "", //取材部位是否清晰
        record: "", //病历资料
        helper_report: "" //重要辅助检查报告
      },
      // 以下是原诊断机构信息
      fMInstitution: {
        organization: {}, //机构名称
        test_id: {}, //病理号
        application_date: {}, //申请日期
        report_date: {}, //报告日期
        diagnosis: {}, //诊断结论
        type: {}, //"淋巴瘤细胞来源"
        report_quality: {}, //"原病理报告质量"
        he_number: {}, //"HE切片"
        he_quality: {}, //"质量"
        ihc_number: {}, //"免疫组化切片"
        ihc_quality: {}, //"质量"
        problem_slice: {}, //"是否有严重制作问题（如卷曲、褶皱等）的切片"
        patient_info: {}, //"患者基本信息是否完整"
        history_info: {}, //"病史摘要是否详细"
        sample_info: {}, //"取材部位是否描述清晰"
        record: {}, //"病历资料"
        helper_report: {} //"重要辅助检查报告"
      },
      diagnosis_1_info: [], //原医疗机构
      diagnosis_1_infoAll: {}, //原医疗机构信息对象
      reportMessage: {}, //报告信息
      reportResult: {}, //报告结论
      reportMass: {}, //报告质量
      options: [
        {
          value: '前驱淋巴性肿瘤',
          label: '前驱淋巴性肿瘤',
          children: 
            [{
            value: 'B淋巴母细胞白血病/淋巴瘤，非特殊类型',
            label: 'B淋巴母细胞白血病/淋巴瘤，非特殊类型'
            },{
            value: 'B淋巴母细胞白血病/淋巴瘤伴重现性遗传学异常',
            label: 'B淋巴母细胞白血病/淋巴瘤伴重现性遗传学异常',
            children: 
              [{            
              value: 'B淋巴母细胞白血病/淋巴瘤伴t（9；22）（q34.1；q11.2）；BCR-ABL1',
              label: 'B淋巴母细胞白血病/淋巴瘤伴t（9；22）（q34.1；q11.2）；BCR-ABL1'
              },{
              value: 'B淋巴母细胞白血病/淋巴瘤伴t（v；11q23.3）；KMT2A重排',
              label: 'B淋巴母细胞白血病/淋巴瘤伴t（v；11q23.3）；KMT2A重排'
              },{
              value: 'B淋巴母细胞白血病/淋巴瘤伴t（12；21）（p13.2；q22.1）；ETV6-RUNX1',
              label: 'B淋巴母细胞白血病/淋巴瘤伴t（12；21）（p13.2；q22.1）；ETV6-RUNX1'
              },{
              value: 'B淋巴母细胞白血病/淋巴瘤伴超二倍体',
              label: 'B淋巴母细胞白血病/淋巴瘤伴超二倍体'
              },{
              value: 'B淋巴母细胞白血病/淋巴瘤伴亚二倍体',
              label: 'B淋巴母细胞白血病/淋巴瘤伴亚二倍体'
              },{
              value: 'B淋巴母细胞白血病/淋巴瘤伴t（5；14）（q31.1；q32.3）；IL3-IGH',
              label: 'B淋巴母细胞白血病/淋巴瘤伴t（5；14）（q31.1；q32.3）；IL3-IGH'
              },{
              value: 'B淋巴母细胞白血病/淋巴瘤伴t（1；19）（q23；p13.3）；TCF3-PBX1',
              label: 'B淋巴母细胞白血病/淋巴瘤伴t（1；19）（q23；p13.3）；TCF3-PBX1'
              },{
              value: 'B淋巴母细胞白血病/淋巴瘤，BCR-ABL1样',
              label: 'B淋巴母细胞白血病/淋巴瘤，BCR-ABL1样'
              },{
              value: 'B淋巴母细胞白血病/淋巴瘤伴iAMP21',
              label: 'B淋巴母细胞白血病/淋巴瘤伴iAMP21'
              }]
            },{
            value: 'T淋巴母细胞白血病/淋巴瘤',
            label: 'T淋巴母细胞白血病/淋巴瘤',
            children: 
              [{
              value: '早期T细胞前驱淋巴母细胞白血病',
              label: '早期T细胞前驱淋巴母细胞白血病'
              }]
            },{
            value: 'NK淋巴母细胞白血病/淋巴瘤',
            label: 'NK淋巴母细胞白血病/淋巴瘤'
            }]
        },
        {
          value: '成熟B细胞淋巴瘤',
          label: '成熟B细胞淋巴瘤',
          children: 
            [{
            value: '慢性淋巴细胞白血病/小淋巴细胞淋巴瘤',
            label: '慢性淋巴细胞白血病/小淋巴细胞淋巴瘤',
            children: 
              [{
              value: '单克隆B淋巴细胞增多症',
              label: '单克隆B淋巴细胞增多症'
              }]
            },{
            value: 'B细胞前淋巴细胞白血病',
            label: 'B细胞前淋巴细胞白血病'
            },{
            value: '脾边缘区细胞淋巴瘤',
            label: '脾边缘区细胞淋巴瘤'
            },{
            value: '毛细胞白血病',
            label: '毛细胞白血病'
            },{
            value: '脾B细胞淋巴瘤/白血病，不能分类',
            label: '脾B细胞淋巴瘤/白血病，不能分类',
            children: 
              [{
              value: '脾弥漫性红髓小B细胞淋巴瘤',
              label: '脾弥漫性红髓小B细胞淋巴瘤'
              },{
              value: '毛细胞白血病变异型',
              label: '毛细胞白血病变异型'
              }]
            },{
            value: '淋巴浆细胞淋巴瘤',
            label: '淋巴浆细胞淋巴瘤'
            },{
            value: '意义不明的单克隆丙种球蛋白病，IgM型',
            label: '意义不明的单克隆丙种球蛋白病，IgM型'
            },{
            value: '重链病',
            label: '重链病',
            children: 
            [{
              value: 'μ重链病',
              label: 'μ重链病'
              },{
              value: 'γ重链病',
              label: 'γ重链病'
              },{
              value: 'α重链病',
              label: 'α重链病'
            }]
            },{
            value: '浆细胞肿瘤',
            label: '浆细胞肿瘤',
            children: 
              [{                 
              value: '意义不明的单克隆丙种球蛋白病，非IgM型',
              label: '意义不明的单克隆丙种球蛋白病，非IgM型'
              },{
              value: '浆细胞骨髓瘤',
              label: '浆细胞骨髓瘤'
              },{
              value: '浆细胞骨髓瘤变异型（无症状型、非分泌型、浆细胞白血病）',
              label: '浆细胞骨髓瘤变异型（无症状型、非分泌型、浆细胞白血病）'
              },{
              value: '浆细胞瘤（骨孤立性浆细胞瘤、骨外浆细胞瘤）',
              label: '浆细胞瘤（骨孤立性浆细胞瘤、骨外浆细胞瘤）'
              },{
              value: '单克隆免疫球蛋白沉积症（原发性淀粉样变、轻链和重链沉积病）',
              label: '单克隆免疫球蛋白沉积症（原发性淀粉样变、轻链和重链沉积病）'
              },{
              value: '浆细胞肿瘤伴副肿瘤综合征（POEMS综合征、TEMPI综合征）',
              label: '浆细胞肿瘤伴副肿瘤综合征（POEMS综合征、TEMPI综合征）'
              }]
            },{
            value: '黏膜相关淋巴组织结外边缘区淋巴瘤',
            label: '黏膜相关淋巴组织结外边缘区淋巴瘤'
            },{
            value: '淋巴结边缘区淋巴瘤',
            label: '淋巴结边缘区淋巴瘤',
            children: 
              [{   
              value: '儿童淋巴结边缘区淋巴瘤',
              label: '儿童淋巴结边缘区淋巴瘤'
              }]    
            },{
            value: '滤泡性淋巴瘤',
            label: '滤泡性淋巴瘤',
            children:
              [{
              value: '睾丸滤泡性淋巴瘤',
              label: '睾丸滤泡性淋巴瘤'
              },{
              value: '原位滤泡性肿瘤',
              label: '原位滤泡性肿瘤'
              },{
              value: '十二指肠型滤泡性淋巴瘤',
              label: '十二指肠型滤泡性淋巴瘤'
              }]
            },{
            value: '儿童型滤泡性淋巴瘤',
            label: '儿童型滤泡性淋巴瘤'
            },{
            value: '伴IRF4重排大B细胞淋巴瘤',
            label: '伴IRF4重排大B细胞淋巴瘤'
            },{
            value: '原发皮肤滤泡中心淋巴瘤',
            label: '原发皮肤滤泡中心淋巴瘤'
            },{
            value: '套细胞淋巴瘤',
            label: '套细胞淋巴瘤',
            children:
              [{
              value: '白血病样非结节性套细胞淋巴瘤',
              label: '白血病样非结节性套细胞淋巴瘤'
              },{
              value: '原位套细胞肿瘤',
              label: '原位套细胞肿瘤'
              }]
            },{
            value: '弥漫性大B细胞淋巴瘤，非特指型',
            label: '弥漫性大B细胞淋巴瘤，非特指型',
            children:
              [{
              value: '生发中心亚型',
              label: '生发中心亚型'
              },{
              value: '活化B细胞亚型',
              label: '活化B细胞亚型'
              }]
            },{
            value: 'T细胞/组织细胞丰富的大B细胞淋巴瘤',
            label: 'T细胞/组织细胞丰富的大B细胞淋巴瘤'
            },{
            value: '原发中枢神经系统弥漫性大B细胞淋巴瘤',
            label: '原发中枢神经系统弥漫性大B细胞淋巴瘤'
            },{
            value: '原发皮肤弥漫性大B细胞淋巴瘤，腿型',
            label: '原发皮肤弥漫性大B细胞淋巴瘤，腿型'
            },{
            value: 'EBV阳性弥漫性大B细胞淋巴瘤，非特指型',
            label: 'EBV阳性弥漫性大B细胞淋巴瘤，非特指型'
            },{
            value: 'EBV阳性皮肤黏膜溃疡',
            label: 'EBV阳性皮肤黏膜溃疡'
            },{
            value: '慢性炎症相关的弥漫性大B细胞淋巴瘤',
            label: '慢性炎症相关的弥漫性大B细胞淋巴瘤',
            children:
              [{
              value: '纤维素相关弥漫性大B细胞淋巴瘤',
              label: '纤维素相关弥漫性大B细胞淋巴瘤' 
              }]             
            },{
            value: '淋巴瘤样肉芽肿',
            label: '淋巴瘤样肉芽肿'
            },{
            value: '原发性纵隔（胸腺）大B细胞淋巴瘤',
            label: '原发性纵隔（胸腺）大B细胞淋巴瘤'
            },{
            value: '血管内大B细胞淋巴瘤',
            label: '血管内大B细胞淋巴瘤'
            },{
            value: 'ALK阳性大B细胞淋巴瘤',
            label: 'ALK阳性大B细胞淋巴瘤'
            },{
            value: '浆母细胞性淋巴瘤',
            label: '浆母细胞性淋巴瘤'
            },{
            value: '原发渗出性淋巴瘤',
            label: '原发渗出性淋巴瘤'
            },{
            value: 'HHV8相关淋巴组织增殖性疾病',
            label: 'HHV8相关淋巴组织增殖性疾病',
            children:
              [{    
              value: '多中心Castleman病',
              label: '多中心Castleman病'
              },{
              value: 'HHV8阳性弥漫性大B细胞淋巴瘤，非特指型',
              label: 'HHV8阳性弥漫性大B细胞淋巴瘤，非特指型'
              },{
              value: 'HHV8阳性亲生发中心淋巴组织增殖性疾病',
              label: 'HHV8阳性亲生发中心淋巴组织增殖性疾病'
              }]
            },{
            value: 'Burkitt淋巴瘤',
            label: 'Burkitt淋巴瘤'
            },{
            value: '伴11q异常的Burkitt样淋巴瘤',
            label: '伴11q异常的Burkitt样淋巴瘤'
            },{
            value: '高级别B细胞淋巴瘤',
            label: '高级别B细胞淋巴瘤',
            children:
              [{      
              value: '高级别B细胞淋巴瘤，伴MYC和BCL2和（或）BCL6重排',
              label: '高级别B细胞淋巴瘤，伴MYC和BCL2和（或）BCL6重排'
              },{
              value: '高级别B细胞淋巴瘤，非特指型',
              label: '高级别B细胞淋巴瘤，非特指型'
              }]
            },{
            value: '特征介于DLBCL和经典霍奇金淋巴瘤之间的不能分类的B细胞淋巴瘤',
            label: '特征介于DLBCL和经典霍奇金淋巴瘤之间的不能分类的B细胞淋巴瘤'
            }]
        },
        {
          value: '成熟T和NK细胞淋巴瘤',
          label: '成熟T和NK细胞淋巴瘤',
          children: 
            [{
            value: 'T细胞前淋巴细胞白血病',
            label: 'T细胞前淋巴细胞白血病'
            },{
            value: 'T细胞大颗粒淋巴细胞白血病',
            label: 'T细胞大颗粒淋巴细胞白血病'
            },{
            value: '慢性NK细胞淋巴增殖性疾病',
            label: '慢性NK细胞淋巴增殖性疾病'
            },{
            value: '侵袭性NK细胞白血病',
            label: '侵袭性NK细胞白血病'
            },{
            value: '儿童EBV阳性T细胞和NK细胞淋巴组织增殖性疾病',
            label: '儿童EBV阳性T细胞和NK细胞淋巴组织增殖性疾病',
            children: 
              [{                        
              value: '儿童系统性EBV阳性T细胞淋巴瘤',
              label: '儿童系统性EBV阳性T细胞淋巴瘤'
              },{
              value: '系统性慢性活动性EBV感染，T细胞和NK细胞型',
              label: '系统性慢性活动性EBV感染，T细胞和NK细胞型'
              },{
              value: '种痘水疱病样淋巴组织增殖性疾病',
              label: '种痘水疱病样淋巴组织增殖性疾病'
              },{
              value: '严重蚊虫叮咬过敏症',
              label: '严重蚊虫叮咬过敏症'
              }]
            },{
            value: '成人T细胞白血病/淋巴瘤',
            label: '成人T细胞白血病/淋巴瘤'
            },{
            value: '结外NK/T细胞淋巴瘤，鼻型',
            label: '结外NK/T细胞淋巴瘤，鼻型'
            },{
            value: '肠道T细胞淋巴瘤',
            label: '肠道T细胞淋巴瘤',
            children: 
              [{
              value: '单形性亲上皮性肠道T细胞淋巴瘤',
              label: '单形性亲上皮性肠道T细胞淋巴瘤'
              },{
              value: '肠病相关性T细胞淋巴瘤',
              label: '肠病相关性T细胞淋巴瘤'
              },{
              value: '肠道T细胞淋巴瘤，非特指型',
              label: '肠道T细胞淋巴瘤，非特指型'
              },{
              value: '胃肠道惰性T细胞淋巴组织增殖性疾病',
              label: '胃肠道惰性T细胞淋巴组织增殖性疾病'
              }]
            },{
            value: '肝脾T细胞淋巴瘤',
            label: '肝脾T细胞淋巴瘤'
            },{
            value: '皮下脂膜炎样T细胞淋巴瘤',
            label: '皮下脂膜炎样T细胞淋巴瘤'
            },{
            value: '蕈样霉菌病',
            label: '蕈样霉菌病'
            },{
            value: 'Sezary综合征',
            label: 'Sezary综合征'
            },{
            value: '原发性皮肤CD30阳性T细胞淋巴组织增殖性疾病',
            label: '原发性皮肤CD30阳性T细胞淋巴组织增殖性疾病',
            children: 
              [{
              value: '淋巴瘤样丘疹病',
              label: '淋巴瘤样丘疹病'
              },{
              value: '原发性皮肤间变性大细胞淋巴瘤',
              label: '原发性皮肤间变性大细胞淋巴瘤'
              }]
            },{
            value: '原发性皮肤外周T细胞淋巴瘤罕见亚型',
            label: '原发性皮肤外周T细胞淋巴瘤罕见亚型',
            children:           
              [{
              value: '原发性皮肤γδT细胞淋巴瘤',
              label: '原发性皮肤γδT细胞淋巴瘤'
              },{
              value: '原发性皮肤CD8阳性侵袭性嗜表皮性细胞毒性T细胞淋巴瘤',
              label: '原发性皮肤CD8阳性侵袭性嗜表皮性细胞毒性T细胞淋巴瘤'
              },{
              value: '原发性皮肤肢端CD8阳性T细胞淋巴瘤',
              label: '原发性皮肤肢端CD8阳性T细胞淋巴瘤'
              },{
              value: '原发性皮肤CD4阳性小/中等大小T细胞淋巴组织增殖性疾病',
              label: '原发性皮肤CD4阳性小/中等大小T细胞淋巴组织增殖性疾病'
              }]
            },{
            value: '外周T细胞淋巴瘤，非特指型',
            label: '外周T细胞淋巴瘤，非特指型'
            },{
            value: '血管免疫母细胞性T细胞淋巴瘤及其他淋巴结滤泡辅助T细胞来源的淋巴瘤',
            label: '血管免疫母细胞性T细胞淋巴瘤及其他淋巴结滤泡辅助T细胞来源的淋巴瘤',
            children:           
              [{
              value: '血管免疫母细胞性T细胞淋巴瘤',
              label: '血管免疫母细胞性T细胞淋巴瘤'
              },{
              value: '滤泡T细胞淋巴瘤',
              label: '滤泡T细胞淋巴瘤'
              },{
              value: '淋巴结外周T细胞淋巴瘤伴滤泡辅助T细胞表型',
              label: '淋巴结外周T细胞淋巴瘤伴滤泡辅助T细胞表型'
              }]
            },{
            value: '间变性大细胞淋巴瘤，ALK阳性',
            label: '间变性大细胞淋巴瘤，ALK阳性'
            },{
            value: '间变性大细胞淋巴瘤，ALK阴性',
            label: '间变性大细胞淋巴瘤，ALK阴性'
            },{
            value: '乳房植入物相关的间变性大细胞淋巴瘤',
            label: '乳房植入物相关的间变性大细胞淋巴瘤'
            }]
        },
        {
          value: '霍奇金淋巴瘤',
          label: '霍奇金淋巴瘤',
          children:
            [{
            value: '结节性淋巴细胞为主型霍奇金淋巴瘤',
            label: '结节性淋巴细胞为主型霍奇金淋巴瘤'
            },{
            value: '经典型霍奇金淋巴瘤',
            label: '经典型霍奇金淋巴瘤',
            children:
              [{
              value: '结节硬化型',
              label: '结节硬化型'
              },{
              value: '富于淋巴细胞型',
              label: '富于淋巴细胞型'
              },{
              value: '混合细胞型',
              label: '混合细胞型'
              },{
              value: '淋巴细胞消减型',
              label: '淋巴细胞消减型'
              }]
            }]
        },
        {
          value: '淋巴瘤',
          label: '淋巴瘤'
        },
        {
          value: '非霍奇金淋巴瘤',
          label: '非霍奇金淋巴瘤'
        },
        {
          value: '非典型增生',
          label: '非典型增生'
        },
        {
          value: '其他恶性肿瘤',
          label: '其他恶性肿瘤'
        },
        {
          value: '无明确诊断结论',
          label: '无明确诊断结论'
        }
		  ],
    };
  },
  mounted() {
    // this.getTableList();
  
    // 原医疗机构诊断
    allMessage.formdata.map((sickItems, index) => {
      if (sickItems.field_index == 1) {
        this.diagnosis_1_info = sickItems;
      }
    });
    this.diagnosis_1_info.items.map((item, index) => {
      if (item.name == "报告信息") {
        this.reportMessage = item;
      } else if (item.name == "诊断结论") {
        this.reportResult = item;
      } else {
        this.reportMass = item;
      }
    });
    // 报告信息内数据
    this.reportMessage.fields.map((item, index) => {
      switch (item.english_name) {
        case "organization":
          this.fMInstitution.organization = item;
          break;
        case "test_id":
          this.fMInstitution.test_id = item;
          break;
        case "application_date":
          this.fMInstitution.application_date = item;
          break;
        case "report_date":
          this.fMInstitution.report_date = item;
          break;
        default:
          break;
      }
      // console.log(this.fMInstitution.organization);
    });

    // 报告结论信息
    this.reportResult.fields.map((item, index) => {
      switch (item.english_name) {
        case "diagnosis":
          this.fMInstitution.diagnosis = item;
          break;
        case "type":
          this.fMInstitution.type = item;
          break;
        default:
          break;
      }
    });

    // 报告质量
    this.reportMass.fields.map((item, index) => {
      switch (item.english_name) {
        case "report_quality":
          this.fMInstitution.report_quality = item;
          break;
        case "he_number":
          this.fMInstitution.he_number = item;
          break;
        case "he_quality":
          this.fMInstitution.he_quality = item;
          break;
        case "ihc_number":
          this.fMInstitution.ihc_number = item;
          break;
        case "ihc_quality":
          this.fMInstitution.ihc_quality = item;
          break;
        case "problem_slice":
          this.fMInstitution.problem_slice = item;
          break;
        case "patient_info":
          this.fMInstitution.patient_info = item;
          break;
        case "history_info":
          this.fMInstitution.history_info = item;
          break;
        case "sample_info":
          this.fMInstitution.sample_info = item;
          break;
        case "record":
          this.fMInstitution.record = item;
          break;
        case "helper_report":
          this.fMInstitution.helper_report = item;
          break;
        default:
          break;
      }
    });
  }
};
</script>


<style scoped lang="stylus" rel="stylesheet/stylus" >、
.el-upload--picture-card {
    background-color: #fbfdff;
    border: 1px dashed #c0ccda;
    border-radius: 6px;
    box-sizing: border-box;
    /* width: 148px; */
    /* height: 148px; */
    line-height: 146px;
    vertical-align: top;
}
img{
  display inline-block
  border none
  width 148px
  height 148px
 
}
  .iconOCRshibieyichangjilu{
    color blue
  }

  .outest {
    .sContainer {
      height: 58px;
      line-height: 58px;
      background: rgba(255, 255, 255, 1);
      box-shadow: 0px 1px 10px 0px rgba(204, 204, 204, 0.75);
      border-radius: 4px;
      padding-left: 30px;
      .el-select {
        margin-left: 10px;
      }
    }
    .entry {
      background: rgba(255, 255, 255, 1);
      box-shadow: 0px 1px 10px 0px rgba(204, 204, 204, 0.75);
      border-radius: 4px;
      margin-top: 20px;
      .search {
        margin: 20px 30px 0;
        padding-top: 20px;
        padding-bottom: 60px;
        .up {
          background-color: #E6E6E6;
          height: 50px;

          .left {
            float: left;
            width: 300px;

            span {
              line-height: 50px;
              padding-left: 10px;
            }
          }
          .right {
            border-left: 1px solid rgba(199, 199, 199, 1);
            float: left;

            span {
              line-height: 50px;
              padding-left: 10px;
            }

            .el-input {
              margin: 0 5px;
            }

            .el-button {
              background: rgba(41, 184, 252, 1);
              border-radius: 4px;
            }

            .pass {
              margin: 10px;
            }
  
            }
          }
        }

        .el-pagination {
          float: right;
          margin: 10px 10px 0 0;
        }
      }
  }

  .icontubiaozhizuo-:before {
    color: #1CA5FF;
  }

  .YCon {
    position: fixed;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
    background-color: rgba(245, 247, 251, 0.7);
    z-index: 9;

    .out {
      position: absolute;
      left: 0;
      bottom: 0;
      right: 0;
      top: 0;
      margin: auto;
      width: 1122px;
      height: 860px;
      background: rgba(250, 250, 250, 1);
      box-shadow: 0px 4px 20px 0px rgba(121, 121, 121, 0.75);
      border-radius: 0px 0px 4px 4px;

      .header {
        height: 40px;
        background: rgba(28, 177, 255, 1);
        border-radius: 6px 6px 0px 0px;
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;

        span {
          margin: 10px;
          color: white;
        }
      }

      // 原医疗机构信息内容
      .origin {
        margin: 20px auto;
        background: rgba(255, 255, 255, 1);
        border: 1px solid rgba(232, 232, 232, 1);
        border-radius: 4px;
        margin: 10px 20px;

        .origindown {
          .buju {
            margin-left: 50px;
          }

          .sickIH {
            .title {
              background-color: #EFEEF1;
              margin: 10px 20px;
              height: 35px;
              line-height: 35px;
              border-left: 5px #3190E8 solid;
              padding-left: 10px;
            }

            .sickItem {
              display: inline-block;
              margin: 10px;
              margin-left: 50px;

              span {
                display: inline-block;
                width: 112px;
              }
            }

            .kuai {
              display: flex;
              flex-wrap: wrap;
              flex-flow: row;
              width: 1122px;
              height: 200px;
              margin-top: 28px;

              // 报告质量下的块
              .p-one {
                border: 1px solid rgba(224, 224, 224, 1);
                width: 440px;
                margin-left: 30px;
                height: 190px;

                .titles {
                  display: block;
                  padding-left: 20px;
                  border-bottom: 1px solid rgba(224, 224, 224, 1);
                  height: 30px;
                  line-height: 30px;
                  background-color: rgba(232, 232, 232, 1);
                }

                .sickItems {
                  display: flex;
                  flex-flow: row;
                  justify-content: space-between;
                  flex-wrap: wrap;
                  margin-left: 20px;
                  float: left;
                  height: 50px;
                  line-height: 50px;

                  .one {
                    display: inline-block;
                    width: 100px;
                  }

                  .three {
                    display: inline-block;
                    width: 100px;
                  }

                  .two {
                    display: inline-block;
                    width: 50px;
                  }

                  .four {
                    display: inline-block;
                    width: 50px;
                  }

                  .five {
                    display: inline-block;
                    width: 295px;
                  }
                }
              }

              .p-two {
                border: 1px solid rgba(224, 224, 224, 1);
                width: 276px;
                margin-left: 20px;
                height: 190px;

                .titles {
                  display: block;
                  padding-left: 20px;
                  border-bottom: 1px solid rgba(224, 224, 224, 1);
                  height: 30px;
                  line-height: 30px;
                  background-color: rgba(232, 232, 232, 1);
                }

                .sickItems {
                  display: flex;
                  flex-flow: row;
                  justify-content: space-between;
                  flex-wrap: wrap;
                  margin-left: 20px;
                  float: left;
                  height: 50px;
                  line-height: 50px;

                  span {
                    width: 150px;
                  }
                }
              }

              .p-three {
                border: 1px solid rgba(224, 224, 224, 1);
                width: 250px;
                margin-left: 20px;
                height: 190px;

                .titles {
                  display: block;
                  padding-left: 20px;
                  border-bottom: 1px solid rgba(224, 224, 224, 1);
                  height: 30px;
                  line-height: 30px;
                  background-color: rgba(232, 232, 232, 1);
                }

                .sickItems {
                  display: flex;
                  flex-flow: row;
                  justify-content: space-between;
                  flex-wrap: wrap;
                  margin-left: 20px;
                  float: left;
                  height: 50px;
                  line-height: 50px;

                  span {
                    width: 120px;
                  }
                }
              }
            }
          }
        }

        .update {
          width: 70px;
          height: 70px;
          background: rgba(250, 250, 250, 1);
          border: 1px solid rgba(210, 210, 210, 1);
          border-radius: 4px;
          margin: 20px;

          .iconic_join_dialing_norm {
            line-height: 70px;
            margin-left: 28px;
          }
        }
      }

      .foot {
        
        float: right;
        margin-right: 20px;
      }
    }
  }

</style>
